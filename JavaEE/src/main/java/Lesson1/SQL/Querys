CREATE TABLE USER1
(
  USER1_ID           NUMBER PRIMARY KEY,
  USER_NAME    NVARCHAR2(64),
  REAL_NAME    NVARCHAR2(64),
  EMAIL        NVARCHAR2(64),
  PHONE_NUMBER NVARCHAR2(64),
  BIRTH_DATE   TIMESTAMP,
  POST_ID      NUMBER
  PASSWORD     NVARCHAR2(16)

);

CREATE TABLE POST
(
  POST_ID           NUMBER PRIMARY KEY,
  TITLE        NVARCHAR2(128),
  BODY         CLOB,
  PUBLISH_DATE TIMESTAMP,
  USER_ID      NUMBER,
  CONSTRAINT USER1_FK FOREIGN KEY (USER_ID) REFERENCES USER1 (USER1_ID),
  VIEWS        NUMBER
);

ALTER TABLE USER1
  ADD CONSTRAINT POST_FK FOREIGN KEY (POST_ID) REFERENCES POST (POST_ID);

CREATE TABLE RELATIONSHIP
(
  USER_ID_ONE         NUMBER NOT NULL,
  USER_ID_TWO         NUMBER NOT NULL,
  LAST_ACTION_USER_ID NUMBER NOT NULL,
  STATUS              SMALLINT DEFAULT 0,
  CONSTRAINT FK_USER_ONE FOREIGN KEY (USER_ID_ONE) REFERENCES USER1 (USER1_ID),
  CONSTRAINT FK_USER_TWO FOREIGN KEY (USER_ID_TWO) REFERENCES USER1 (USER1_ID),
  CONSTRAINT FK_LAST_ACTION_USER_ID FOREIGN KEY (LAST_ACTION_USER_ID) REFERENCES USER1 (USER1_ID),
  CONSTRAINT PK_RELATIONSHIP PRIMARY KEY (USER_ID_ONE, USER_ID_TWO)

);
